<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë¡œë˜ ì¶”ì²œë²ˆí˜¸ ìƒì„±ê¸°</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin-top: 40px; }
    label, select, input { margin: 10px; font-size: 16px; }
    button { padding: 10px 20px; font-size: 16px; margin-top: 20px; }
    #result { margin-top: 20px; font-size: 20px; font-weight: bold; }
  </style>
</head>
<body>
  <h1>ğŸ¯ ë¡œë˜ ì¶”ì²œë²ˆí˜¸ ìƒì„±ê¸°</h1>

  <div>
    <label>í•©ê³„ ìµœì†Œê°’: <input type="number" id="sumMin" value="130"></label>
    <label>í•©ê³„ ìµœëŒ€ê°’: <input type="number" id="sumMax" value="160"></label><br>

    <label>í™€ì§ ë¹„ìœ¨:
      <select id="oddEven">
        <option value="3:3">3:3</option>
        <option value="4:2">4:2</option>
        <option value="2:4">2:4</option>
      </select>
    </label>

    <label>
      <input type="checkbox" id="consecutive" checked>
      ì—°ì†ëœ ìˆ«ì í¬í•¨
    </label>
  </div>

  <button onclick="generateLotto()">ë²ˆí˜¸ ìƒì„±</button>
  <div id="result"></div>

  <script>
    function generateLotto() {
      const minSum = parseInt(document.getElementById("sumMin").value);
      const maxSum = parseInt(document.getElementById("sumMax").value);
      const ratio = document.getElementById("oddEven").value.split(":").map(Number);
      const requireConsecutive = document.getElementById("consecutive").checked;

      let valid = false;
      let combo = [];

      while (!valid) {
        combo = [];
        while (combo.length < 6) {
          let num = Math.floor(Math.random() * 45) + 1;
          if (!combo.includes(num)) combo.push(num);
        }

        combo.sort((a, b) => a - b);
        const sum = combo.reduce((a, b) => a + b, 0);
        const odd = combo.filter(n => n % 2 === 1).length;
        const even = 6 - odd;
        const hasConsecutive = combo.some((n, i, arr) => i > 0 && n - arr[i - 1] === 1);
        const low = combo.filter(n => n <= 15).length;
        const mid = combo.filter(n => n > 15 && n <= 30).length;
        const high = combo.filter(n => n > 30).length;

        if (
          sum >= minSum && sum <= maxSum &&
          odd === ratio[0] && even === ratio[1] &&
          (!requireConsecutive || hasConsecutive) &&
          low > 0 && mid > 0 && high > 0
        ) {
          valid = true;
        }
      }

      document.getElementById("result").innerText =
        `ì¶”ì²œ ë²ˆí˜¸: ${combo.join(", ")} (í•©ê³„: ${combo.reduce((a, b) => a + b)})`;
    }
  </script>
</body>
</html>
